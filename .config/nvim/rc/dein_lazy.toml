[[plugins]]
repo = 'Shougo/unite.vim'

[[plugins]]
repo = 'psf/black'

[[plugins]]
repo = 'heavenshell/vim-pydocstring'
build = 'make install'
on_ft = ['python']
hook_add = '''
    let g:pydocstring_formatter = 'google'
    nmap <leader>pd <Plug>(pydocstring)
'''

[[plugins]]
repo = 'rhysd/conflict-marker.vim'
hook_add = '''
    nmap <leader>ct :<C-u>ConflictMarkerThemselves<CR>
    nmap <leader>co :<C-u>ConflictMarkerOurselves<CR>
    nmap <leader>cb :<C-u>ConflictMarkerBoth<CR>
'''

# View and search LSP symbols
[[plugins]]
repo = 'liuchengxu/vista.vim'
depends = ['coc.nvim', 'lightline.vim']
hook_add = '''
    function! s:VistaToggle() abort
      let found = 0
      for winnr in range(1, winnr('$'))
        if getbufvar(winbufnr(winnr), '&filetype') ==# 'vista'
          exe winnr . 'close'
          let found = 1
        endif
      endfor
      if !found
        Vista
      endif
    endfunction
    nmap <silent> <C-f><C-v> :call <SID>VistaToggle()<CR>
    nmap <silent> <C-f><C-s> :<C-u>Vista finder coc<CR>
'''

[[plugins]]
repo = 'linty-org/key-menu.nvim'

[[plugins]]
repo = 'nvim-telescope/telescope.nvim'
on_cmd = 'Telescope'
hook_add = '''
    nnoremap <leader>ff <cmd>Telescope find_files<cr>
    nnoremap <leader>gg <cmd>Telescope git_files<cr>
    nnoremap <leader>fg <cmd>Telescope live_grep<cr>
    nnoremap <leader>fb <cmd>Telescope buffers<cr>
    nnoremap <leader>fh <cmd>Telescope help_tags<cr>
    nnoremap <leader>fd <cmd>Telescope cder<cr>
'''
hook_source = '''
lua <<EOF
  require('telescope').load_extension('cder')
  require('telescope').setup({
    extensions = {
      cder = {
        dir_command = { 'fd', '--type=d', '.', os.getenv('HOME'), 'Documents/work' },
        previewer_command =
          'exa '..
          '-a '..
          '--color=always '..
          '-T '..
          '--level=3 '..
          '--icons '..
          '--git-ignore '..
          '--long '..
          '--no-permissions '..
          '--no-user '..
          '--no-filesize '..
          '--git '..
          '--ignore-glob=.git',
      },
    },
  })
EOF
'''
[[plugins]]
repo = 'fannheyward/telescope-coc.nvim'
# change directory using telescope
[[plugins]]
repo = 'zane-/cder.nvim'
on_cmd = 'Telescope'
